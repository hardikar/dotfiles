"3.10.1 (created: 2015/08/25 00:41:59)
" For reference, liberator DOM elements
"  Array.prototype.slice.call(document.getElementsByTagName('*')).map(function (e) e.id).filter(function (e) e.indexOf('liberator') == 0)
" 0: "liberator-stringbundles"
" 1: "liberator-charset-bundle"
" 2: "liberator-visualbell"
" 3: "liberator-separator"
" 4: "liberator-multiline-output"
" 5: "liberator-completions"
" 6: "liberator-bottombar"
" 7: "liberator-bottombar-deck"
" 8: "liberator-statusline"
" 9: "liberator-mode-toolbar"
" 10: "liberator-mode"
" 11: "liberator-message-toolbar"
" 12: "liberator-message"
" 13: "liberator-status"
" 14: "liberator-status-ssl"
" 15: "liberator-status-input"
" 16: "liberator-status-location"
" 17: "liberator-status-bookmark"
" 18: "liberator-status-history"
" 19: "liberator-status-tabcount"
" 20: "liberator-status-position"
" 21: "liberator-commandline"
" 22: "liberator-commandline-prompt-text"
" 23: "liberator-commandline-prompt"
" 24: "liberator-commandline-command"
" 25: "liberator-multiline-input"

source! /Users/hardikar/.vimperatorrc.local


" ================================================================================
" Firefox settings
" ================================================================================

" Make Firefox run faster by using JIT
set! javascript.options.jit.chrome=true

" don't close window when closed last tab
set! browser.tabs.closeWindowWithLastTab=false


" ================================================================================
" General Settings
" ================================================================================

" Don't focus input fields after loading page
set focuscontent
set editor=/usr/local/bin/mvim

" Only show firefox's default results on :open prompts
set complete=l
set maxitems=10

" Save millions of keystrokes
nnoremap ; :
vnoremap ; :
nnoremap <C-;> :
vnoremap <C-;> :

" This are hints to links on the page
set hintchars='1234890'
" Need <CR> whenever following hints
set followhints=1

" Extended hints
" e; to focus an element
" e? to show information about an element (incomplete)
" es to save a link's destination
" eS to save a media object
" ea to save a link's destination (prompting for save location)
" eA to save a media object (prompting for save location)
" ef to focus a frame
" eo to open its location in the current tab
" et to open its location in a new tab
" eb to open its location in a new background tab
" ew to open its destination in a new window
" eF to follow a sequence of <CR>-delimited hints in background tabs
" eO to generate an :open with hint's URL (like O)
" eT to generate a :tabopen with hint's URL (like T)
" eW to generate a :winopen with hint's URL
" ev to view its destination source
" eV to view its destination source in the external editor
" ey to yank its destination location
" eY to yank its text description
" e# to yank its anchor URL
" ec to open its context menu
" ei to open a media object
" eI to open a media object in a new tab
" ex to display an element's title text, or alt text if none.
" 
vnoremap e ;
nnoremap e ;

" ================================================================================
" General Navigation
" ================================================================================

javascript <<EOF
/* 
 * Hacked up Home and End during command mode
 */
    mappings.addUserMap([modes.COMMAND_LINE], ['<C-a>'], "",
        function(){
            var cmdlinelen = 1000; 
            try {
                cmdlinelen = commandline._commandWidget.value.length + 3;
            } catch(e) {}
            events.feedkeys(Array(cmdlinelen).join('<Left>'));
        },
        {noremap: true});
    mappings.addUserMap([modes.COMMAND_LINE], ['<C-e>'], "",
        function(){
            var cmdlinelen = 1000; 
            try {
                cmdlinelen = commandline._commandWidget.value.length + 3;
            } catch(e) {}
            events.feedkeys(Array(cmdlinelen).join('<Right>'));
        },
        {noremap: true});
EOF

" Copied from vimrc
cnoremap <C-L> <Right>
cnoremap <C-H> <Left>
cnoremap <C-J> <Down>
cnoremap <C-K> <Up>

" Faster scrolling
nnoremap j 5j
nnoremap k 5k

" ================================================================================
" Tab navigation
" ================================================================================

" Easier tab movements
nnoremap <Up>  :tabfirst<CR>
nnoremap <Down>  :tablast<CR>
nnoremap <Right>  :tabnext<CR>
nnoremap <Left>  :tabprev<CR>

nnoremap b :buffer<Space>
nnoremap m :tabmove<Space>


" ================================================================================
" Theme settings
" ================================================================================

" Hints CSS
hi Hint font-family: monospace; font-size: 13px; font-weight: bold; text-transform: lowercase; color: white; background-color: grey; border-color: ButtonShadow; border-width: 0px; border-style: solid; padding: 0px 1px 0px 1px; 

" Command line
hi CmdLine background: black; color: white; transition: all 0.25s; font-size:13px;
hi CmdLine>* font-family: monospace; font-size:13px;

hi StatusLine color: black; background: white; font-weight: normal; font-size:13px;

" make caret mode's bar more visible
set! ui.caretWidth=1
set! ui.caretBlinkTime=300

" ================================================================================
" Commands
" ================================================================================

:command! close quit
:command! pintab set apptab
:command! unpintab set noapptab

" ================================================================================
" Forget the bad habits
" ================================================================================

" Stop d form closing the buffer
nnoremap d <Nop>

" Stop backspace from going back
nnoremap <BS> <Nop>

" Don't open the stupid source mode
nnoremap gf <Nop>

" CMD+F : Don't need you anymore
nnoremap <M-F> <Nop>
